<!DOCTYPE html>
<html lang="en">
  <head>
    <title>IPFS Benchmarks Report</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='../../css/bootstrap.css' rel='stylesheet' type='text/css'>
    <script src="../../js/Chart.bundle.min.js"></script>
    <script src="../../js/jquery.min.js"></script>
    <script src="../../js/bootstrap.min.js"></script>
  </head>
  <body class="container">
    <h1 class="centered">IPFS Benchmarks Report</h1>

    <table class="table table-striped">
      <tbody>
        {{#each .}}
          {{#each suites}}
            <tr>
              <th>{{suite}}</th>
              <td>
                <div class="well">
                  <div style="float: left; width: 200px">
                    <canvas height="200" id="{{suite}}/mean"></canvas>
                    <script>
                      var canvas = document.getElementById('{{suite}}/mean')
                      var options = {
                        type: 'horizontalBar',
                        data: {
                          labels: [
                            {{#each results}}
                              '{{env}}'{{#unless @last}},{{/unless}}
                            {{/each}}
                          ],
                          datasets: [
                            {
                              label: 'mean',
                              backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)'
                              ],
                              borderColor: [
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)'
                              ],
                              data: [
                                {{#each results}}
                                  {{stats.mean}}{{#unless @last}},{{/unless}}
                                {{/each}}
                              ]
                            }
                          ]
                        }
                      }
                      var chart = new Chart(canvas, options)
                    </script>
                  </div>

                  <div style="float: left; width: 200px">
                    <canvas height="200" id="{{suite}}/variance"></canvas>
                    <script>
                      var canvas = document.getElementById('{{suite}}/variance')
                      var options = {
                        type: 'horizontalBar',
                        data: {
                          labels: [
                            {{#each results}}
                              '{{env}}'{{#unless @last}},{{/unless}}
                            {{/each}}
                          ],
                          datasets: [
                            {
                              label: 'variance',
                              backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)'
                              ],
                              borderColor: [
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)'
                              ],
                              data: [
                                {{#each results}}
                                  {{stats.variance}}{{#unless @last}},{{/unless}}
                                {{/each}}
                              ]
                            }
                          ]
                        }
                      }
                      var chart = new Chart(canvas, options)
                    </script>
                  </div>

                  <div class="clearfix"></div>

                </div>
                <a class="clearfix btn btn-primary" role="button" data-toggle="collapse" data-target="#{{suite}}-data" aria-expanded="false" aria-controls="{{suite}}-data">Show data</a>
                <table class="table table-striped collapse" id="{{suite}}-data">
                  <thead>
                    <tr>
                      <th>Environment</th>
                      <th>Mean</th>
                      <th>Variance</th>
                      <th>Deviation</th>
                      <th>MOE</th>
                      <th>RME</th>
                      <th>SEM</th>
                    </tr>
                </thead>
                  <tbody>
                    {{#each results}}
                      <tr>
                        <th>{{env}}</th>
                        <td>{{stats.mean}}</td>
                        <td>{{stats.variance}}</td>
                        <td>{{stats.deviation}}</td>
                        <td>{{stats.moe}}</td>
                        <td>{{stats.rme}}</td>
                        <td>{{stats.sem}}</td>
                      </tr>
                    {{/each}}
                  </tbody>
                </table>
              </td>
            </tr>
          {{/each}}
        {{/each}}
      </tbody>
    </table>

    <section>
      <h2>Details</h2>
      {{#each .}}
        {{#each suites}}
          <h3><a id="{{name}}"></a>Suite {{suite}}</h3>
          {{#each results}}
            <h4><a id="{{suite}}/{{name}}"></a>{{../suite}}/{{name}}:</h4>
            <p>Context:</p>
            <table class="table table-striped">
              <tbody>
                <tr>
                  <th>Name</th>
                  <td>{{name}}</td>
                </tr>
                <tr>
                  <th>When</th>
                  <td>{{now}}</td>
                </tr>
                <tr>
                  <th>Code</th>
                  <td><pre>{{code}}</pre></td>
                </tr>
                <tr>
                  <th>Platform</th>
                  <td>
                    {{platform.description}}
                  </td>
                </tr>
                <tr>
                  <th>CPUs</th>
                  <td>
                    {{#each cpus}}
                      <table class="table table-striped">
                        <tbody>
                          <tr>
                            <th>Model</th>
                            <td>{{model}}</td>
                          </tr>
                          <tr>
                            <th>Speed</th>
                            <td>{{speed}}</td>
                          </tr>
                        </tbody>
                      </table>
                    {{/each}}
                  </td>
                </tr>
                <tr>
                  <th>Load Average</th>
                  <td>{{loadavg}}</td>
                </tr>
              </tbody>
            </table>

            <p>Results:</p>

            <table class="table table-striped">
              <tbody>
                <tr>
                  <th>Count</th>
                  <td>{{count}}</td>
                </tr>
                <tr>
                  <th>Hz</th>
                  <td>{{hz}}</td>
                </tr>
                <tr>
                  <th>Stats</th>
                  <td>
                    <table class="table table-striped">
                      <tbody>
                        <tr>
                          <th>Mean</th>
                          <td>{{stats.mean}}</td>
                        </tr>
                        <tr>
                          <th>Variance</th>
                          <td>{{stats.variance}}</td>
                        </tr>
                        <tr>
                          <th>Deviation</th>
                          <td>{{stats.deviation}}</td>
                        </tr>
                        <tr>
                          <th>MOE</th>
                          <td>{{stats.moe}}</td>
                        </tr>
                        <tr>
                          <th>RME</th>
                          <td>{{stats.rme}}</td>
                        </tr>
                        <tr>
                          <th>SEM</th>
                          <td>{{stats.sem}}</td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>
              </tbody>
            </table>
            <hr>
          {{/each}}
        {{/each}}
      {{/each}}
    </section>
  </body>
</html>